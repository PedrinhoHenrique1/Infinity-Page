<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Infinity Page </title>
    <link rel="stylesheet" href="../css/inicial.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>

<body>

    <button class="menu-btn" id="toggle-btn">
        <i class="fa-solid fa-bars"></i>
    </button>

    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2>Menu</h2>
        </div>
        <ul>
            <li><a href="inicial.html"><i class="fa-solid fa-house"></i> Início </a></li>
            <li><a href="pedidos.html"><i class="fa-solid fa-bag-shopping"></i> Meus pedidos </a></li>
            <li><a href="favoritos.html"><i class="fa-solid fa-star"></i> Favoritos </a></li>
            <li><a href="estoque.html"><i class="fa-solid fa-cart-shopping"></i> Carrinho </a></li>
            <li><a href="trocas.html"><i class="fa-solid fa-arrows-rotate"></i> Trocas </a></li>
            <li><a href="../Login/login.html"><i class="fa-solid fa-door-open"></i> Sair </a></li>
        </ul>
    </div>

    <header>
        <div class="logo">
            <img src="../images/logo.png" width="150px">
        </div>
        <div class="texto">
            <input type="search" id="buscaItem" placeholder="O que você busca hoje?" oninput="filtrarItens()">
        </div>
        <div class="trade">
            <a href="#"> Trocas </a>
        </div>
        <div class="atendimento">
            <a href="atendimento.html"> Atendimento ao Cliente </a>
        </div>
        <div class="icons">
            <div class="img1">
                <a href="favoritos.html">
                    <i class="fa-solid fa-heart fa-3x" style="color: #ffffff;"></i>
                </a>
            </div>
            <div id="area-login">
                <button id="btn-login" onclick="fazerLogin()">Login</button>
            </div>
        </div>
    </header>
    <main id="conteudo-principal">
        <nav>
            <ul>
                <li><a href="#novidades"> Novidades </a></li>
                <li><a href="#esportes"> Esportes </a></li>
                <li><a href="#dc_comics"> DC Comics </a></li>
                <li><a href="#marvel"> Marvel </a></li>
            </ul>
        </nav>

        <nav2>
            <button class="dc-button" data-category="ficcao"> Ficção </button>
            <button class="dc-button" data-category="romance"> Romance </button>
            <button class="dc-button" data-category="comedia"> Comédia </button>
            <button class="dc-button" data-category="quadrinhos"> Quadrinhos </button>
            <button class="dc-button" data-category="academico"> Acadêmico </button>
            <button class="dc-button" data-category="colecionaveis"> Colecionáveis </button>
        </nav2>

        <section>
            <h2> Novidades </h2>
        </section>

        <section id="secao-produtos">
            <div class="products-container">
                <div class="product" onclick="mostrarDetalhe('1')">
                    <img src="../images/coringa.png" alt="Livro 1">
                    <h3> Batman: A Piada Mortal </h3>
                    <p>R$ 30,90</p>
                    <button class="buy-button">Comprar</button>
                </div>

                <div class="product" onclick="mostrarDetalhe('2')">
                    <img src="../images/silver-fang.png" alt="Livro 2">
                    <h3>One-Punch Man Vol. 4</h3>
                    <p>R$ 42,90</p>
                    <button class="buy-button">Comprar</button>
                </div>

                <div class="product">
                    <img src="../images/vingadores.png" alt="Livro 3">
                    <h3>Os Vingadores 17/74</h3>
                    <p>R$ 49,99</p>
                    <button class="buy-button">Comprar</button>
                </div>

                <div class="product">
                    <img src="../images/tio-patinhas.png" alt="Livro 3">
                    <h3> Tio Patinhas E A Última Aventura </h3>
                    <p>R$ 129,99</p>
                    <button class="buy-button">Comprar</button>
                </div>
            </div>
        </section>
    </main>
    <section id="detalhe-produto-1" class="produto-detalhe" style="display: none;">
        <div class="produto-detalhe-container">
            <button class="produto-detalhe-voltar" onclick="voltarParaHome()">← Voltar</button>
            <div class="produto-detalhe-box">
                <div class="produto-detalhe-img">
                    <img src="../images/coringa.png" alt="Batman: A Piada Mortal">
                </div>
                <div class="produto-detalhe-info">
                    <h2>Batman: A Piada Mortal</h2>
                    <p class="produto-detalhe-preco">R$ 30,90</p>
                    <p class="produto-detalhe-descricao">
                        Uma das obras mais impactantes do universo do Batman. A origem do Coringa recontada de forma
                        sombria e envolvente.
                    </p>
                    <button class="produto-detalhe-btn">Comprar agora</button>
                </div>
            </div>
        </div>
    </section>
    <section id="detalhe-produto-2" class="detalhe-produto" style="display: none;">
        <button onclick="voltarParaHome()">← Voltar</button>
        <h2>One-Punch Man Vol. 4</h2>
        <img src="../images/silver-fang.png" alt="One-Punch Man">
        <p>Descrição completa do produto aqui...</p>
        <p>R$ 42,90</p>
        <button class="buy-button">Comprar</button>
    </section>

    <script>
        // Botão lateral
        const toggleBtn = document.getElementById('toggle-btn');
        const sidebar = document.getElementById('sidebar');

        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // Corrige campo de busca
        function filtrarItens() {
            const termo = document.querySelector("input[type='search']").value.toLowerCase();
            const itens = document.querySelectorAll(".product");

            itens.forEach((item) => {
                const nomeItem = item.textContent.toLowerCase();
                item.style.display = nomeItem.includes(termo) ? "block" : "none";
            });
        }

        function fazerLogin() {
            window.location.href = "../pages/login.html";
        }

        function fazerLogout() {
            localStorage.removeItem("usuarioLogado");
            location.reload();
        }

        function verificarLogin() {
            const usuario = JSON.parse(localStorage.getItem("usuarioLogado"));
            const areaLogin = document.getElementById("area-login");

            if (usuario) {
                areaLogin.innerHTML = `
              <div class="usuario-logado" style="display: flex; align-items: center; gap: 10px;">
                <i class="fa-solid fa-user fa-3x" style="color: #ffffff;"></i>
                <span style="color: white;">${usuario.email.split('@')[0]}</span>
                <button onclick="fazerLogout()" style="background:none;border:none;color:white;cursor:pointer;">Sair</button>
              </div>`;
            } else {
                areaLogin.innerHTML = `<button id="btn-login" onclick="fazerLogin()">Login</button>`;
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            verificarLogin();
        });
    </script>

    <script src="../js/inicial.js"> </script>

</body>

</html>